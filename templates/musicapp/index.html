{% extends 'base.html' %}
{% load socialaccount %}
{% block title %} MusicApp - Home {% endblock title %}

{% block body %} 

<style>
html {
  position: relative;
  min-height: 100%;
}
body {
  /* Margin bottom by footer height */
  margin-bottom: 0px;
}
.footer {
  position: fixed;
  bottom: 0;
  width: 100%;
  /* Set the fixed height of the footer here */
  height: 80px;
  background-color: #f5f5f5;
}
</style>

<br>
<div class="container">
  <div class="col-md-13">
    <form id="searchform" class="form-horizontal" role="search" method="get" action=''>
          <div class="form-group">
              <div class="input-group">
                  <input type="text" class="form-control input-lg " name="q" value="{{ request.GET.q }}" placeholder= "Search Songs "/>

                  <select name="languages" class="custom-select mx-2">
                    <option selected="selected" disabled>Languages</option>
                    {% if all_languages %}
                        {% for language in all_languages %}
                            <option value={{language}}>{{language}}</option>
                        {% endfor %}
                    {% endif %}
                  </select>
                  <select name="singers" class="custom-select mx-1">
                    <option selected="selected" disabled>Singers</option>
                    {% if all_singers %}
                        {% for singer in all_singers %}
                            <option value={{singer}}>{{singer}}</option>
                        {% endfor %}
                    {% endif %}
                  </select>
                                
                  <span class='input-group-btn'>
                    <button type="submit" class="btn btn-primary">Search</button>
                  </span>
              </div>
          </div>
      </form>
  </div>
</div>

<hr>

<!-- All Songs -->
<div class="container">
  <header class="section-heading">
    <!-- <a href="{% url 'all_songs' %}" class="btn btn-primary float-right">View all</a> -->
    <h3 class="section-title">All Songs</h3>
  </header>
<hr>
<!-- Song list -->
<div class="row" style="margin-right: 65px;margin-left:-15px">
  {% if all_songs %}
  {% for song in all_songs %}
      <div class="col-md-2">
          <div class="thumbnail">
              <a href="{% url 'detail' song.id %}">
                  <img src="{{ song.song_img.url}}" class="img-responsive" height="135" width="135" style="border-radius: 8px 8px 8px 8px;">
              </a>
          </div>
      </div>
      {% endfor %}
      {% endif %}
      <a href="{% url 'all_songs' %}" class="btn btn-primary float-right" style="height: 135px;"><center style="margin-top: 45px;">View all <i class="fa fa-arrow-right" aria-hidden="true"></i></center></a>
</div>
</div>
<br>
<br>

<!-- Recent Song -->
{% if recent_songs %}
<div class="container">
  <header class="section-heading">
    <h3 class="section-title">Recently viewed</h3>
  </header>
<hr>

<!-- Recent Song list -->
<div class="row" style="margin-right: 65px;margin-left:-15px">
  {% for song in recent_songs %}
      <div class="col-md-2">
          <div class="thumbnail">
              <a href="{% url 'detail' song.id %}">
                  <img src="{{ song.song_img.url}}" class="img-responsive" height="135" width="135" style="border-radius: 8px 8px 8px 8px;">
              </a>
          </div>
      </div>
      {% endfor %}
      <a href="{% url 'recent' %}" class="btn btn-primary float-right" style="height: 135px;"><center style="margin-top: 45px;">View all <i class="fa fa-arrow-right" aria-hidden="true"></i></center></a>

</div>
</div>
<br>
<br>
{% endif %}


<!-- Hindi Songs -->
<div class="container">
  <header class="section-heading">
    <h3 class="section-title">Hindi Songs</h3>
  </header>
<hr>
<!-- Song list -->
<div class="row" style="margin-right: 65px;margin-left:-15px">
  {% if hindi_songs %}
  {% for song in hindi_songs %}
      <div class="col-md-2">
          <div class="thumbnail">
              <a href="{% url 'detail' song.id %}">
                  <img src="{{ song.song_img.url}}" class="img-responsive" height="135" width="135" style="border-radius: 8px 8px 8px 8px;">
              </a>
          </div>
      </div>
      {% endfor %}
      {% endif %}
      <a href="{% url 'hindi_songs' %}" class="btn btn-primary float-right" style="height: 135px;"><center style="margin-top: 45px;">View all <i class="fa fa-arrow-right" aria-hidden="true"></i></center></a>

</div>
</div>
<br>
<br>

<!-- English Songs -->
<div class="container">
  <header class="section-heading">
    <h3 class="section-title">English Songs</h3>
  </header>
<hr>
<!-- Song list -->
<div class="row" style="margin-right: 65px;margin-left:-15px">
  {% if english_songs %}
  {% for song in english_songs %}
      <div class="col-md-2">
          <div class="thumbnail">
              <a href="{% url 'detail' song.id %}">
                  <img src="{{ song.song_img.url}}" class="img-responsive" height="135" width="135" style="border-radius: 8px 8px 8px 8px;">
              </a>
          </div>
      </div>
      {% endfor %}
      {% endif %}
      <a href="{% url 'english_songs' %}" class="btn btn-primary float-right" style="height: 135px;"><center style="margin-top: 45px;">View all <i class="fa fa-arrow-right" aria-hidden="true"></i></center></a>
</div>
</div>
<br>
<br>

<footer class="footer">
  <div class="player">
    <div class="left"><img src="{{last_played.song_img.url}}" height="80" width="80"></div>
    <div class="right">
       <div class="top">
          <a class="song" >{{last_played.name}}</a>
          <a class="artist" >{{last_played.album}}</a>
       </div>
       <div class="bottom">
          <video controls="" _autoplay="" name="media"><source src="{{last_played.song_file.url}}" type="audio/mpeg" ></video>
       </div>
    </div>
  </div>
</footer>

{% endblock body %}